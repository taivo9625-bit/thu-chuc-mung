<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thiá»‡p 20/10 â€” Má»Ÿ thÆ° ğŸ’Œ</title>
  <style>
    :root{
      --bg:#fff0f6; --env:#ffb6c1; --paper:#fff; --accent:#ff2e63;
    }
    *{box-sizing:border-box}
    body{
      height:100vh;margin:0;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,#fff0f6,#ffe6ef);font-family:Inter, system-ui, sans-serif;
    }

    .wrap{display:flex;flex-direction:column;align-items:center;gap:12px}

    .envelope{
      width:340px;height:240px;position:relative;perspective:1200px;cursor:pointer;
    }

    /* thÃ¢n thÆ° */
    .envelope-body{
      position:absolute;width:100%;height:100%;left:0;top:0;border-radius:0 0 12px 12px;
      background:var(--env);box-shadow:0 10px 30px rgba(0,0,0,0.12);z-index:1;overflow:hidden;
    }

    /* náº¯p thÆ° */
    .envelope-flap{
      position:absolute;left:0;top:0;width:100%;height:120px;
      background:linear-gradient(180deg,#ff9eb8,#ff7fa1);
      clip-path:polygon(0 0,100% 0,50% 100%);
      transform-origin: top center;
      transform-style: preserve-3d;
      backface-visibility: hidden;
      transition: transform 0.7s cubic-bezier(.2,.9,.2,1), z-index 0.2s;
      z-index:3;
      pointer-events:auto;
    }

    /* máº·t sau má»‹n (trÃ¡nh nhÃ¬n tháº¥y khi quay) */
    .envelope-flap::after{
      content:"";position:absolute;inset:0;background:linear-gradient(180deg,#ff9eb8,#ff7fa1);
      backface-visibility:hidden;transform:translateZ(-1px);
    }

    /* tá» giáº¥y */
    .paper{
      position:absolute;left:50%;transform:translate(-50%,85%);bottom:0;
      width:88%;height:160px;background:var(--paper);border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,0.12);
      display:flex;align-items:center;justify-content:center;flex-direction:column;
      transition:transform 0.7s cubic-bezier(.2,.9,.2,1),opacity 0.45s;
      opacity:0;z-index:4; /* Ä‘áº£m báº£o luÃ´n trÃªn flap khi má»Ÿ */
      padding:18px;
    }

    .message h1{margin:0;font-size:28px;color:var(--accent);text-align:center}
    .message p{margin:8px 0 0;color:#444;text-align:center}

    /* tráº¡ng thÃ¡i má»Ÿ */
    .envelope.open .envelope-flap{
      transform: rotateX(-155deg) translateY(-12px);
      z-index:2;            /* tháº¥p hÆ¡n paper nhÆ°ng váº«n > body */
      pointer-events:none;  /* trÃ¡nh cháº·n click */
    }
    .envelope.open .paper{
      transform:translate(-50%,-12%);
      opacity:1;
    }

    .hint{color:#666;font-size:14px;text-align:center}
    @media (max-width:420px){.envelope{width:300px;height:210px}.paper{height:150px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div id="env" class="envelope" aria-label="Thiá»‡p 20/10, nháº¥n Ä‘á»ƒ má»Ÿ" role="button" tabindex="0">
      <div class="envelope-flap" id="flap"></div>
      <div class="envelope-body"></div>

      <div class="paper" id="paper">
        <div class="message">
          <h1>20/10 Vui Váº» ğŸ‰</h1>
          <p>ChÃºc báº¡n luÃ´n xinh Ä‘áº¹p, ráº¡ng rá»¡ vÃ  trÃ n Ä‘áº§y niá»m vui ğŸ’–</p>
        </div>
      </div>
    </div>

    <div class="hint">Nháº¥n vÃ o thiá»‡p Ä‘á»ƒ má»Ÿ / nháº¥n láº¡i Ä‘á»ƒ Ä‘Ã³ng</div>
  </div>

  <script>
    const env = document.getElementById('env');
    // há»— trá»£ click vÃ  phÃ­m Space/Enter
    env.addEventListener('click', toggle);
    env.addEventListener('keydown', e => { if(e.key===' '|| e.key==='Enter') { e.preventDefault(); toggle(); } });

    function toggle(){
      env.classList.toggle('open');
      // Ä‘Ã´i khi cáº§n chÃºt delay Ä‘á»ƒ z-index thay Ä‘á»•i mÆ°á»£t
    }

    // Debug helper: náº¿u váº«n khÃ´ng tháº¥y, in tráº¡ng thÃ¡i
    // console.log('Script loaded');
  </script>
</body>
</html>

